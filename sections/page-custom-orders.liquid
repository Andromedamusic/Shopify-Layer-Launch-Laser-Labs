<div class="page-custom-orders">
  {%- comment -%} Hero Section {%- endcomment -%}
  <div class="custom-orders-hero">
    <div class="custom-orders-hero__overlay"></div>
    <div class="custom-orders-hero__content page-width">
      <span class="custom-orders-hero__label">Custom Orders</span>
      <h1 class="custom-orders-hero__title">{{ section.settings.heading | default: "Bring Your Vision to Life" }}</h1>
      <p class="custom-orders-hero__subtitle">{{ section.settings.subheading | default: "From single personalized gifts to bulk corporate orders, we craft precision laser engravings that tell your story." }}</p>
    </div>
  </div>

  {%- comment -%} Main Content: Form + Info {%- endcomment -%}
  <div class="custom-orders-main">
    <div class="page-width">
      <div class="custom-orders-grid">

        {%- comment -%} Left Side: Order Form {%- endcomment -%}
        <div class="custom-orders-form-wrapper">
          <div class="custom-orders-form-header">
            <h2>Start Your Custom Order</h2>
            <p>Fill out the form below and we will get back to you within 24 hours with a quote.</p>
          </div>

          <form
            id="custom-order-form"
            class="custom-orders-form"
            action="https://api.web3forms.com/submit"
            method="POST"
            enctype="multipart/form-data"
          >
            {%- comment -%} Web3Forms Access Key - User needs to get free key from web3forms.com {%- endcomment -%}
            <input type="hidden" name="access_key" value="{{ section.settings.web3forms_key | default: 'YOUR_ACCESS_KEY_HERE' }}">
            <input type="hidden" name="subject" value="New Custom Order Request - LayerLaunch Laser Lab">
            <input type="hidden" name="from_name" value="LayerLaunch Custom Order Form">
            <input type="hidden" name="redirect" value="{{ shop.url }}/pages/custom-orders?submitted=true">

            {%- comment -%} Honeypot for spam prevention {%- endcomment -%}
            <input type="checkbox" name="botcheck" class="hidden" style="display: none;">

            {%- comment -%} Contact Information {%- endcomment -%}
            <fieldset class="form-section">
              <legend class="form-section__title">
                <span class="form-section__icon">
                  <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
                    <circle cx="12" cy="7" r="4"/>
                  </svg>
                </span>
                Contact Information
              </legend>

              <div class="form-row">
                <div class="form-group">
                  <label for="customer_name" class="form-label">Full Name <span class="required">*</span></label>
                  <input type="text" id="customer_name" name="name" required class="form-input" placeholder="John Smith">
                </div>
                <div class="form-group">
                  <label for="customer_email" class="form-label">Email Address <span class="required">*</span></label>
                  <input type="email" id="customer_email" name="email" required class="form-input" placeholder="john@example.com">
                </div>
              </div>

              <div class="form-row">
                <div class="form-group">
                  <label for="customer_phone" class="form-label">Phone Number</label>
                  <input type="tel" id="customer_phone" name="phone" class="form-input" placeholder="(248) 555-1234">
                </div>
                <div class="form-group">
                  <label for="customer_company" class="form-label">Company (if applicable)</label>
                  <input type="text" id="customer_company" name="company" class="form-input" placeholder="Your Company Name">
                </div>
              </div>
            </fieldset>

            {%- comment -%} Project Details {%- endcomment -%}
            <fieldset class="form-section">
              <legend class="form-section__title">
                <span class="form-section__icon">
                  <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                    <polyline points="14 2 14 8 20 8"/>
                    <line x1="16" y1="13" x2="8" y2="13"/>
                    <line x1="16" y1="17" x2="8" y2="17"/>
                  </svg>
                </span>
                Project Details
              </legend>

              <div class="form-row">
                <div class="form-group">
                  <label for="order_type" class="form-label">Order Type <span class="required">*</span></label>
                  <select id="order_type" name="order_type" required class="form-select">
                    <option value="">Select order type...</option>
                    <option value="Personal Gift">Personal Gift (1-9 items)</option>
                    <option value="Small Event">Small Event / Wedding (10-24 items)</option>
                    <option value="Corporate Order">Corporate / Business Order</option>
                    <option value="Bulk Order">Bulk Order (25+ items)</option>
                    <option value="Custom Project">Custom Project / Other</option>
                  </select>
                </div>
                <div class="form-group">
                  <label for="quantity" class="form-label">Estimated Quantity <span class="required">*</span></label>
                  <input type="number" id="quantity" name="quantity" required class="form-input" min="1" placeholder="10">
                </div>
              </div>

              <div class="form-row">
                <div class="form-group">
                  <label for="material" class="form-label">Preferred Material</label>
                  <select id="material" name="material" class="form-select">
                    <option value="">Select material (or unsure)...</option>
                    <option value="Slate">Slate (Coasters, Signs)</option>
                    <option value="Wood">Wood (Cutting Boards, Plaques)</option>
                    <option value="Glass">Glass (Drinkware, Awards)</option>
                    <option value="Leather">Leather (Wallets, Keychains)</option>
                    <option value="Acrylic">Acrylic (Signs, Ornaments)</option>
                    <option value="Metal">Metal (Dog Tags, Plates)</option>
                    <option value="Not Sure">Not Sure - Need Recommendation</option>
                  </select>
                </div>
                <div class="form-group">
                  <label for="timeline" class="form-label">When Do You Need This?</label>
                  <select id="timeline" name="timeline" class="form-select">
                    <option value="">Select timeline...</option>
                    <option value="ASAP">ASAP (Rush - within 1 week)</option>
                    <option value="2-3 weeks">Standard (2-3 weeks)</option>
                    <option value="1 month">Flexible (1 month+)</option>
                    <option value="Planning ahead">Just Planning Ahead</option>
                  </select>
                </div>
              </div>

              <div class="form-group form-group--full">
                <label for="project_description" class="form-label">Project Description <span class="required">*</span></label>
                <textarea id="project_description" name="project_description" required class="form-textarea" rows="4" placeholder="Tell us about your project. What are you envisioning? Any specific text, dates, or personalization details?"></textarea>
              </div>
            </fieldset>

            {%- comment -%} Design Upload {%- endcomment -%}
            <fieldset class="form-section">
              <legend class="form-section__title">
                <span class="form-section__icon">
                  <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                    <circle cx="8.5" cy="8.5" r="1.5"/>
                    <polyline points="21 15 16 10 5 21"/>
                  </svg>
                </span>
                Design / Image Upload
              </legend>

              <div class="form-group form-group--full">
                <label for="design_file" class="form-label">Upload Your Image or Logo</label>
                <div class="file-upload-wrapper">
                  <input type="file" id="design_file" name="attachment" accept="image/*,.pdf,.ai,.eps,.svg" class="file-upload-input">
                  <div class="file-upload-display">
                    <div class="file-upload-icon">
                      <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                        <polyline points="17 8 12 3 7 8"/>
                        <line x1="12" y1="3" x2="12" y2="15"/>
                      </svg>
                    </div>
                    <p class="file-upload-text">
                      <span class="file-upload-cta">Click to upload</span> or drag and drop
                    </p>
                    <p class="file-upload-hint">PNG, JPG, PDF, AI, EPS, SVG (max 10MB)</p>
                  </div>
                  <div class="file-upload-preview" id="file-preview" style="display: none;">
                    <img id="preview-image" src="" alt="Preview">
                    <span id="preview-filename"></span>
                    <button type="button" class="file-upload-remove" id="remove-file">
                      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="18" y1="6" x2="6" y2="18"/>
                        <line x1="6" y1="6" x2="18" y2="18"/>
                      </svg>
                    </button>
                  </div>
                </div>
                <p class="form-hint">For best results, upload high-resolution images (300+ DPI). Vector files (AI, EPS, SVG) are preferred for logos.</p>
              </div>
            </fieldset>

            {%- comment -%} Additional Information {%- endcomment -%}
            <fieldset class="form-section">
              <legend class="form-section__title">
                <span class="form-section__icon">
                  <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="12" r="10"/>
                    <line x1="12" y1="16" x2="12" y2="12"/>
                    <line x1="12" y1="8" x2="12.01" y2="8"/>
                  </svg>
                </span>
                Additional Information
              </legend>

              <div class="form-group form-group--full">
                <label for="additional_notes" class="form-label">Anything Else We Should Know?</label>
                <textarea id="additional_notes" name="additional_notes" class="form-textarea" rows="3" placeholder="Budget considerations, special requests, questions..."></textarea>
              </div>

              <div class="form-group form-group--full">
                <label for="how_found" class="form-label">How Did You Find Us?</label>
                <select id="how_found" name="how_found" class="form-select">
                  <option value="">Select...</option>
                  <option value="Google Search">Google Search</option>
                  <option value="Facebook">Facebook</option>
                  <option value="Instagram">Instagram</option>
                  <option value="Referral">Friend/Family Referral</option>
                  <option value="Repeat Customer">Repeat Customer</option>
                  <option value="Other">Other</option>
                </select>
              </div>
            </fieldset>

            {%- comment -%} Submit Button {%- endcomment -%}
            <div class="form-actions">
              <button type="submit" class="form-submit-btn" id="submit-btn">
                <span class="btn-text">Submit Custom Order Request</span>
                <span class="btn-loading" style="display: none;">
                  <svg class="spinner" width="20" height="20" viewBox="0 0 24 24">
                    <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="3" fill="none" stroke-dasharray="32" stroke-linecap="round"/>
                  </svg>
                  Sending...
                </span>
              </button>
              <p class="form-disclaimer">By submitting this form, you agree to be contacted about your custom order. We typically respond within 24 hours.</p>
            </div>
          </form>

          {%- comment -%} Success Message {%- endcomment -%}
          <div class="form-success" id="form-success" style="display: none;">
            <div class="form-success__icon">
              <svg width="60" height="60" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/>
                <polyline points="22 4 12 14.01 9 11.01"/>
              </svg>
            </div>
            <h3>Request Submitted Successfully!</h3>
            <p>Thank you for your custom order request. We have received your information and will get back to you within 24 hours with a quote.</p>
            <p><strong>Check your email</strong> for a confirmation message.</p>
            <a href="/collections/all" class="form-success__btn">Browse Our Products</a>
          </div>
        </div>

        {%- comment -%} Right Side: Info Cards {%- endcomment -%}
        <div class="custom-orders-info">

          {%- comment -%} Contact Card {%- endcomment -%}
          <div class="info-card info-card--contact">
            <h3>Prefer to Talk?</h3>
            <p>Have questions or need immediate assistance? Reach out directly:</p>
            <div class="info-card__contact">
              <a href="mailto:{{ section.settings.email | default: 'HunterBos@BosBusinessServices.org' }}" class="info-card__link">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/>
                  <polyline points="22,6 12,13 2,6"/>
                </svg>
                {{ section.settings.email | default: 'HunterBos@BosBusinessServices.org' }}
              </a>
              <a href="tel:+1{{ section.settings.phone | default: '2488388314' | remove: '(' | remove: ')' | remove: '-' | remove: ' ' }}" class="info-card__link">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/>
                </svg>
                {{ section.settings.phone | default: '(248) 838-8314' }}
              </a>
            </div>
          </div>

          {%- comment -%} Process Card {%- endcomment -%}
          <div class="info-card">
            <h3>How It Works</h3>
            <ol class="process-list">
              <li>
                <strong>Submit Request</strong>
                <span>Fill out this form with your project details</span>
              </li>
              <li>
                <strong>Receive Quote</strong>
                <span>We will send pricing within 24-48 hours</span>
              </li>
              <li>
                <strong>Approve Proof</strong>
                <span>Review and approve your digital proof</span>
              </li>
              <li>
                <strong>We Create</strong>
                <span>Precision engraving and quality check</span>
              </li>
              <li>
                <strong>Delivered</strong>
                <span>Carefully packaged and shipped to you</span>
              </li>
            </ol>
          </div>

          {%- comment -%} Pricing Card {%- endcomment -%}
          <div class="info-card info-card--pricing">
            <h3>Volume Discounts</h3>
            <div class="pricing-tiers">
              <div class="pricing-tier-item">
                <span class="tier-qty">1-9</span>
                <span class="tier-discount">Standard</span>
              </div>
              <div class="pricing-tier-item">
                <span class="tier-qty">10-24</span>
                <span class="tier-discount tier-discount--gold">10% OFF</span>
              </div>
              <div class="pricing-tier-item">
                <span class="tier-qty">25-49</span>
                <span class="tier-discount tier-discount--gold">15% OFF</span>
              </div>
              <div class="pricing-tier-item">
                <span class="tier-qty">50+</span>
                <span class="tier-discount tier-discount--gold">20%+ OFF</span>
              </div>
            </div>
          </div>

          {%- comment -%} Guarantee Card {%- endcomment -%}
          <div class="info-card info-card--guarantee">
            <div class="guarantee-icon">
              <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
              </svg>
            </div>
            <h3>Our Promise</h3>
            <p>If your engraving does not meet your expectations, we will make it right - no questions asked.</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<style>
  /* ================================================
     CUSTOM ORDERS PAGE STYLES
     Premium form design with Tesla/Rivian aesthetics
     ================================================ */

  .page-custom-orders {
    --gold: #c9a227;
    --gold-dark: #8b6914;
    --dark: #1a1a1a;
    --light-bg: #f5f5f0;
    --white: #ffffff;
    --text: #333333;
    --text-muted: #666666;
    --border: #e0e0e0;
    --success: #2e7d32;
  }

  /* Hero Section */
  .custom-orders-hero {
    position: relative;
    min-height: 300px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: linear-gradient(135deg, var(--dark) 0%, #2d2d2d 100%);
    color: var(--white);
    text-align: center;
    overflow: hidden;
  }

  .custom-orders-hero__overlay {
    position: absolute;
    inset: 0;
    background: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23c9a227' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
  }

  .custom-orders-hero__content {
    position: relative;
    z-index: 1;
    padding: 60px 20px;
  }

  .custom-orders-hero__label {
    display: inline-block;
    font-size: 0.85rem;
    font-weight: 600;
    letter-spacing: 0.2em;
    text-transform: uppercase;
    color: var(--gold);
    margin-bottom: 1rem;
    padding: 0.5rem 1.25rem;
    border: 1px solid var(--gold);
    border-radius: 2rem;
  }

  .custom-orders-hero__title {
    font-size: clamp(2.5rem, 5vw, 3.5rem);
    font-weight: 700;
    margin: 0 0 1rem 0;
    line-height: 1.15;
  }

  .custom-orders-hero__subtitle {
    font-size: clamp(1.1rem, 2vw, 1.25rem);
    opacity: 0.9;
    margin: 0;
    max-width: 600px;
    margin-left: auto;
    margin-right: auto;
    line-height: 1.6;
  }

  /* Main Content Grid */
  .custom-orders-main {
    padding: 60px 0 80px;
    background: var(--light-bg);
  }

  .custom-orders-grid {
    display: grid;
    grid-template-columns: 1fr 380px;
    gap: 40px;
    align-items: start;
  }

  @media (max-width: 1100px) {
    .custom-orders-grid {
      grid-template-columns: 1fr;
    }
  }

  /* Form Wrapper */
  .custom-orders-form-wrapper {
    background: var(--white);
    border-radius: 16px;
    box-shadow: 0 4px 24px rgba(0, 0, 0, 0.08);
    padding: 40px;
  }

  @media (max-width: 600px) {
    .custom-orders-form-wrapper {
      padding: 24px 20px;
      border-radius: 12px;
    }
  }

  .custom-orders-form-header {
    margin-bottom: 32px;
    padding-bottom: 24px;
    border-bottom: 1px solid var(--border);
  }

  .custom-orders-form-header h2 {
    font-size: 1.75rem;
    font-weight: 700;
    color: var(--dark);
    margin: 0 0 0.5rem 0;
  }

  .custom-orders-form-header p {
    font-size: 1.1rem;
    color: var(--text-muted);
    margin: 0;
  }

  /* Form Sections */
  .form-section {
    border: none;
    padding: 0;
    margin: 0 0 32px 0;
  }

  .form-section:last-of-type {
    margin-bottom: 24px;
  }

  .form-section__title {
    display: flex;
    align-items: center;
    gap: 10px;
    font-size: 1.1rem;
    font-weight: 600;
    color: var(--dark);
    margin-bottom: 20px;
    padding-bottom: 12px;
    border-bottom: 2px solid var(--gold);
  }

  .form-section__icon {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 36px;
    height: 36px;
    background: rgba(201, 162, 39, 0.1);
    border-radius: 8px;
    color: var(--gold-dark);
  }

  /* Form Layout */
  .form-row {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 20px;
    margin-bottom: 20px;
  }

  @media (max-width: 600px) {
    .form-row {
      grid-template-columns: 1fr;
      gap: 16px;
    }
  }

  .form-group {
    display: flex;
    flex-direction: column;
  }

  .form-group--full {
    grid-column: 1 / -1;
  }

  .form-label {
    font-size: 0.95rem;
    font-weight: 600;
    color: var(--text);
    margin-bottom: 8px;
  }

  .required {
    color: #c62828;
  }

  .form-input,
  .form-select,
  .form-textarea {
    width: 100%;
    padding: 14px 16px;
    font-size: 1rem;
    color: var(--text);
    background: var(--white);
    border: 2px solid var(--border);
    border-radius: 8px;
    transition: border-color 0.2s, box-shadow 0.2s;
    font-family: inherit;
  }

  .form-input:focus,
  .form-select:focus,
  .form-textarea:focus {
    outline: none;
    border-color: var(--gold);
    box-shadow: 0 0 0 3px rgba(201, 162, 39, 0.15);
  }

  .form-input::placeholder,
  .form-textarea::placeholder {
    color: #aaa;
  }

  .form-select {
    cursor: pointer;
    appearance: none;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='%23666666' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: right 12px center;
    background-size: 18px;
    padding-right: 44px;
  }

  .form-textarea {
    resize: vertical;
    min-height: 100px;
  }

  .form-hint {
    font-size: 0.85rem;
    color: var(--text-muted);
    margin-top: 8px;
  }

  /* File Upload */
  .file-upload-wrapper {
    position: relative;
  }

  .file-upload-input {
    position: absolute;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    opacity: 0;
    cursor: pointer;
    z-index: 2;
  }

  .file-upload-display {
    border: 2px dashed var(--border);
    border-radius: 12px;
    padding: 40px 20px;
    text-align: center;
    transition: border-color 0.2s, background 0.2s;
  }

  .file-upload-wrapper:hover .file-upload-display,
  .file-upload-input:focus + .file-upload-display {
    border-color: var(--gold);
    background: rgba(201, 162, 39, 0.03);
  }

  .file-upload-icon {
    color: var(--gold-dark);
    margin-bottom: 12px;
  }

  .file-upload-text {
    font-size: 1rem;
    color: var(--text);
    margin: 0 0 4px 0;
  }

  .file-upload-cta {
    color: var(--gold-dark);
    font-weight: 600;
    text-decoration: underline;
  }

  .file-upload-hint {
    font-size: 0.85rem;
    color: var(--text-muted);
    margin: 0;
  }

  .file-upload-preview {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 16px;
    background: var(--light-bg);
    border-radius: 8px;
    margin-top: 12px;
  }

  .file-upload-preview img {
    width: 60px;
    height: 60px;
    object-fit: cover;
    border-radius: 6px;
  }

  .file-upload-preview span {
    flex: 1;
    font-size: 0.95rem;
    color: var(--text);
    word-break: break-all;
  }

  .file-upload-remove {
    background: none;
    border: none;
    padding: 8px;
    cursor: pointer;
    color: var(--text-muted);
    transition: color 0.2s;
  }

  .file-upload-remove:hover {
    color: #c62828;
  }

  /* Form Actions */
  .form-actions {
    text-align: center;
    padding-top: 24px;
    border-top: 1px solid var(--border);
  }

  .form-submit-btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
    width: 100%;
    max-width: 400px;
    padding: 18px 32px;
    font-size: 1.1rem;
    font-weight: 600;
    color: var(--dark);
    background: var(--gold);
    border: none;
    border-radius: 8px;
    cursor: pointer;
    transition: background 0.2s, transform 0.2s, box-shadow 0.2s;
  }

  .form-submit-btn:hover {
    background: #d4b340;
    transform: translateY(-2px);
    box-shadow: 0 8px 20px rgba(201, 162, 39, 0.3);
  }

  .form-submit-btn:disabled {
    opacity: 0.7;
    cursor: not-allowed;
    transform: none;
  }

  .spinner {
    animation: spin 1s linear infinite;
  }

  @keyframes spin {
    100% { transform: rotate(360deg); }
  }

  .form-disclaimer {
    font-size: 0.85rem;
    color: var(--text-muted);
    margin: 16px 0 0 0;
  }

  /* Success Message */
  .form-success {
    text-align: center;
    padding: 60px 20px;
  }

  .form-success__icon {
    color: var(--success);
    margin-bottom: 20px;
  }

  .form-success h3 {
    font-size: 1.5rem;
    color: var(--dark);
    margin: 0 0 12px 0;
  }

  .form-success p {
    font-size: 1.1rem;
    color: var(--text-muted);
    margin: 0 0 8px 0;
    line-height: 1.6;
  }

  .form-success__btn {
    display: inline-block;
    margin-top: 24px;
    padding: 14px 28px;
    font-size: 1rem;
    font-weight: 600;
    color: var(--white);
    background: var(--dark);
    border-radius: 8px;
    text-decoration: none;
    transition: background 0.2s;
  }

  .form-success__btn:hover {
    background: #333;
  }

  /* Info Cards */
  .custom-orders-info {
    display: flex;
    flex-direction: column;
    gap: 24px;
    position: sticky;
    top: 100px;
  }

  @media (max-width: 1100px) {
    .custom-orders-info {
      position: static;
      display: grid;
      grid-template-columns: repeat(2, 1fr);
    }
  }

  @media (max-width: 700px) {
    .custom-orders-info {
      grid-template-columns: 1fr;
    }
  }

  .info-card {
    background: var(--white);
    border-radius: 12px;
    padding: 24px;
    box-shadow: 0 2px 12px rgba(0, 0, 0, 0.06);
  }

  .info-card h3 {
    font-size: 1.15rem;
    font-weight: 700;
    color: var(--dark);
    margin: 0 0 16px 0;
  }

  .info-card p {
    font-size: 0.95rem;
    color: var(--text-muted);
    line-height: 1.6;
    margin: 0;
  }

  /* Contact Card */
  .info-card--contact {
    background: var(--dark);
    color: var(--white);
  }

  .info-card--contact h3 {
    color: var(--white);
  }

  .info-card--contact p {
    color: rgba(255, 255, 255, 0.8);
    margin-bottom: 16px;
  }

  .info-card__contact {
    display: flex;
    flex-direction: column;
    gap: 12px;
  }

  .info-card__link {
    display: flex;
    align-items: center;
    gap: 10px;
    color: var(--gold);
    text-decoration: none;
    font-size: 0.95rem;
    transition: color 0.2s;
  }

  .info-card__link:hover {
    color: #d4b340;
  }

  /* Process List */
  .process-list {
    list-style: none;
    padding: 0;
    margin: 0;
    counter-reset: process;
  }

  .process-list li {
    display: flex;
    flex-direction: column;
    padding-left: 36px;
    position: relative;
    padding-bottom: 16px;
    margin-bottom: 12px;
    border-bottom: 1px solid var(--border);
  }

  .process-list li:last-child {
    border-bottom: none;
    margin-bottom: 0;
    padding-bottom: 0;
  }

  .process-list li::before {
    counter-increment: process;
    content: counter(process);
    position: absolute;
    left: 0;
    top: 0;
    width: 24px;
    height: 24px;
    background: var(--gold);
    color: var(--dark);
    border-radius: 50%;
    font-size: 0.8rem;
    font-weight: 700;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .process-list strong {
    font-size: 0.95rem;
    color: var(--dark);
  }

  .process-list span {
    font-size: 0.85rem;
    color: var(--text-muted);
  }

  /* Pricing Tiers */
  .pricing-tiers {
    display: flex;
    flex-direction: column;
    gap: 8px;
  }

  .pricing-tier-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 10px 0;
    border-bottom: 1px solid var(--border);
  }

  .pricing-tier-item:last-child {
    border-bottom: none;
  }

  .tier-qty {
    font-size: 0.95rem;
    font-weight: 600;
    color: var(--text);
  }

  .tier-discount {
    font-size: 0.85rem;
    color: var(--text-muted);
  }

  .tier-discount--gold {
    background: var(--gold);
    color: var(--dark);
    padding: 4px 10px;
    border-radius: 20px;
    font-weight: 600;
  }

  /* Guarantee Card */
  .info-card--guarantee {
    text-align: center;
    background: var(--light-bg);
    border: 2px solid var(--border);
  }

  .guarantee-icon {
    width: 60px;
    height: 60px;
    margin: 0 auto 12px;
    background: rgba(201, 162, 39, 0.1);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--gold-dark);
  }

  /* Hidden utility */
  .hidden {
    display: none !important;
  }
</style>

<script>
(function() {
  'use strict';

  // Check for submission success
  var urlParams = new URLSearchParams(window.location.search);
  if (urlParams.get('submitted') === 'true') {
    var form = document.getElementById('custom-order-form');
    var success = document.getElementById('form-success');
    if (form && success) {
      form.style.display = 'none';
      success.style.display = 'block';
      // Clean URL
      window.history.replaceState({}, document.title, window.location.pathname);
    }
  }

  // File upload preview
  var fileInput = document.getElementById('design_file');
  var filePreview = document.getElementById('file-preview');
  var previewImage = document.getElementById('preview-image');
  var previewFilename = document.getElementById('preview-filename');
  var removeFileBtn = document.getElementById('remove-file');
  var uploadDisplay = document.querySelector('.file-upload-display');

  if (fileInput) {
    fileInput.addEventListener('change', function(e) {
      var file = e.target.files[0];
      if (file) {
        previewFilename.textContent = file.name;

        // Show image preview for image files
        if (file.type.startsWith('image/')) {
          var reader = new FileReader();
          reader.onload = function(e) {
            previewImage.src = e.target.result;
            previewImage.style.display = 'block';
          };
          reader.readAsDataURL(file);
        } else {
          previewImage.style.display = 'none';
        }

        filePreview.style.display = 'flex';
        uploadDisplay.style.display = 'none';
      }
    });

    // Remove file
    if (removeFileBtn) {
      removeFileBtn.addEventListener('click', function(e) {
        e.preventDefault();
        e.stopPropagation();
        fileInput.value = '';
        filePreview.style.display = 'none';
        uploadDisplay.style.display = 'block';
        previewImage.src = '';
      });
    }
  }

  // Form submission handling
  var form = document.getElementById('custom-order-form');
  var submitBtn = document.getElementById('submit-btn');

  if (form && submitBtn) {
    form.addEventListener('submit', function(e) {
      var btnText = submitBtn.querySelector('.btn-text');
      var btnLoading = submitBtn.querySelector('.btn-loading');

      if (btnText && btnLoading) {
        btnText.style.display = 'none';
        btnLoading.style.display = 'flex';
      }
      submitBtn.disabled = true;
    });
  }

  // Drag and drop support
  var uploadWrapper = document.querySelector('.file-upload-wrapper');
  if (uploadWrapper && fileInput) {
    ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(function(eventName) {
      uploadWrapper.addEventListener(eventName, function(e) {
        e.preventDefault();
        e.stopPropagation();
      });
    });

    ['dragenter', 'dragover'].forEach(function(eventName) {
      uploadWrapper.addEventListener(eventName, function() {
        uploadDisplay.style.borderColor = 'var(--gold)';
        uploadDisplay.style.background = 'rgba(201, 162, 39, 0.05)';
      });
    });

    ['dragleave', 'drop'].forEach(function(eventName) {
      uploadWrapper.addEventListener(eventName, function() {
        uploadDisplay.style.borderColor = '';
        uploadDisplay.style.background = '';
      });
    });

    uploadWrapper.addEventListener('drop', function(e) {
      var files = e.dataTransfer.files;
      if (files.length) {
        fileInput.files = files;
        var event = new Event('change', { bubbles: true });
        fileInput.dispatchEvent(event);
      }
    });
  }
})();
</script>

{% schema %}
{
  "name": "Custom Orders Page",
  "tag": "section",
  "class": "section-page-custom-orders",
  "settings": [
    {
      "type": "header",
      "content": "Hero Section"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Page Heading",
      "default": "Bring Your Vision to Life"
    },
    {
      "type": "textarea",
      "id": "subheading",
      "label": "Subheading",
      "default": "From single personalized gifts to bulk corporate orders, we craft precision laser engravings that tell your story."
    },
    {
      "type": "header",
      "content": "Form Configuration"
    },
    {
      "type": "text",
      "id": "web3forms_key",
      "label": "Web3Forms Access Key",
      "info": "Get your free access key from web3forms.com - this enables email submission with file attachments"
    },
    {
      "type": "header",
      "content": "Contact Information"
    },
    {
      "type": "text",
      "id": "email",
      "label": "Email Address",
      "default": "HunterBos@BosBusinessServices.org"
    },
    {
      "type": "text",
      "id": "phone",
      "label": "Phone Number",
      "default": "(248) 838-8314"
    }
  ]
}
{% endschema %}
