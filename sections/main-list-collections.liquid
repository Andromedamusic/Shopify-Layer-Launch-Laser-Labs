{%- comment -%}
  Enhanced Collections List
  With better cards, descriptions, and visual hierarchy
{%- endcomment -%}

<div class="collections-list page-width">
  <div class="collections-list__header">
    <h1 class="collections-list__title h1">{{ section.settings.heading | default: 'Shop by Category' }}</h1>
    {% if section.settings.subheading != blank %}
      <p class="collections-list__subtitle">{{ section.settings.subheading }}</p>
    {% endif %}
  </div>

  {%- comment -%} Featured Category Highlight {%- endcomment -%}
  {% if section.settings.show_featured_banner %}
    <div class="collections-list__featured">
      <div class="featured-category">
        <div class="featured-category__content">
          <span class="featured-category__label">Most Popular</span>
          <h2 class="featured-category__title">Personalized Slate Coasters</h2>
          <p class="featured-category__description">Our signature product. Transform photos, logos, and custom text into stunning engraved keepsakes on premium natural slate.</p>
          <a href="/collections/slate-coasters" class="button button--gold">Shop Coasters</a>
        </div>
        <div class="featured-category__image">
          {% if collections['slate-coasters'].featured_image %}
            {{ collections['slate-coasters'].featured_image | image_url: width: 600 | image_tag: loading: 'lazy' }}
          {% else %}
            {{ 'collection-1' | placeholder_svg_tag: 'placeholder-svg' }}
          {% endif %}
        </div>
      </div>
    </div>
  {% endif %}

  {%- comment -%} Collection Categories Grid {%- endcomment -%}
  <div class="collections-list__grid">
    {%- for collection in collections -%}
      {%- unless collection.handle == 'all' -%}
        <a href="{{ collection.url }}" class="collection-card">
          <div class="collection-card__image">
            {%- if collection.featured_image -%}
              {{ collection.featured_image | image_url: width: 600 | image_tag:
                loading: 'lazy',
                alt: collection.title
              }}
            {%- else -%}
              <div class="collection-card__placeholder">
                {{ 'collection-1' | placeholder_svg_tag: 'placeholder-svg' }}
              </div>
            {%- endif -%}
            <div class="collection-card__overlay">
              <span class="collection-card__cta">Shop Now â†’</span>
            </div>
          </div>
          <div class="collection-card__info">
            <h2 class="collection-card__title">{{ collection.title }}</h2>
            {% if collection.description != blank %}
              <p class="collection-card__description">{{ collection.description | strip_html | truncate: 100 }}</p>
            {% endif %}
            <p class="collection-card__count">
              <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"/>
                <line x1="3" y1="6" x2="21" y2="6"/>
                <path d="M16 10a4 4 0 0 1-8 0"/>
              </svg>
              {{ collection.products_count }} {{ collection.products_count | pluralize: 'product', 'products' }}
            </p>
          </div>
        </a>
      {%- endunless -%}
    {%- endfor -%}
  </div>

  {%- comment -%} Custom Order CTA {%- endcomment -%}
  {% if section.settings.show_custom_cta %}
    <div class="collections-list__custom-cta">
      <div class="custom-cta-card">
        <div class="custom-cta-card__icon">
          <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="#c9a227" stroke-width="1.5">
            <path d="M12 20h9"/>
            <path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"/>
          </svg>
        </div>
        <div class="custom-cta-card__content">
          <h3>Don't See What You're Looking For?</h3>
          <p>We create custom laser engravings on a variety of materials. From unique gifts to corporate branding, we can bring your vision to life.</p>
        </div>
        <div class="custom-cta-card__actions">
          <a href="/pages/custom-orders" class="button button--primary">Custom Orders</a>
          <a href="/pages/request-quote" class="button button--secondary">Request a Quote</a>
        </div>
      </div>
    </div>
  {% endif %}
</div>

<style>
  .collections-list {
    padding: 40px 0 80px;
  }

  /* Header */
  .collections-list__header {
    text-align: center;
    margin-bottom: 3rem;
  }
  .collections-list__title {
    font-size: 3.2rem;
    margin: 0 0 0.75rem;
  }
  .collections-list__subtitle {
    font-size: 1.7rem;
    color: rgba(0,0,0,0.6);
    max-width: 600px;
    margin: 0 auto;
  }

  /* Featured Banner */
  .collections-list__featured {
    margin-bottom: 4rem;
  }
  .featured-category {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 3rem;
    align-items: center;
    background: #f8f8f8;
    border-radius: 16px;
    padding: 3rem;
    overflow: hidden;
  }
  @media (max-width: 989px) {
    .featured-category {
      grid-template-columns: 1fr;
      text-align: center;
    }
  }
  .featured-category__label {
    display: inline-block;
    padding: 0.4rem 1rem;
    background: #c9a227;
    color: white;
    font-size: 1.2rem;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    border-radius: 4px;
    margin-bottom: 1rem;
  }
  .featured-category__title {
    font-size: 2.8rem;
    margin: 0 0 1rem;
  }
  .featured-category__description {
    font-size: 1.6rem;
    color: rgba(0,0,0,0.7);
    line-height: 1.6;
    margin: 0 0 1.5rem;
  }
  .featured-category__image {
    border-radius: 12px;
    overflow: hidden;
  }
  .featured-category__image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  /* Collections Grid */
  .collections-list__grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 2.5rem;
  }
  @media (max-width: 989px) {
    .collections-list__grid {
      grid-template-columns: repeat(2, 1fr);
      gap: 2rem;
    }
  }
  @media (max-width: 599px) {
    .collections-list__grid {
      grid-template-columns: 1fr;
    }
  }

  /* Collection Card */
  .collection-card {
    text-decoration: none;
    color: inherit;
    display: block;
    transition: transform 0.3s;
  }
  .collection-card:hover {
    transform: translateY(-4px);
  }
  .collection-card__image {
    position: relative;
    aspect-ratio: 4/3;
    overflow: hidden;
    border-radius: 12px;
    background: #f5f5f5;
    margin-bottom: 1.25rem;
  }
  .collection-card__image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.4s;
  }
  .collection-card:hover .collection-card__image img {
    transform: scale(1.08);
  }
  .collection-card__placeholder {
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    background: #eee;
  }
  .collection-card__placeholder svg {
    width: 60%;
    height: 60%;
    opacity: 0.3;
  }
  .collection-card__overlay {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    padding: 2rem 1.5rem 1.25rem;
    background: linear-gradient(0deg, rgba(0,0,0,0.7) 0%, transparent 100%);
    opacity: 0;
    transition: opacity 0.3s;
  }
  .collection-card:hover .collection-card__overlay {
    opacity: 1;
  }
  .collection-card__cta {
    display: inline-block;
    padding: 0.6rem 1.25rem;
    background: #c9a227;
    color: white;
    font-size: 1.3rem;
    font-weight: 600;
    border-radius: 6px;
  }

  /* Card Info */
  .collection-card__info {
    padding: 0 0.25rem;
  }
  .collection-card__title {
    font-size: 2rem;
    font-weight: 700;
    margin: 0 0 0.5rem;
    color: #1a1a1a;
  }
  .collection-card__description {
    font-size: 1.4rem;
    color: rgba(0,0,0,0.6);
    line-height: 1.5;
    margin: 0 0 0.5rem;
  }
  .collection-card__count {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-size: 1.4rem;
    color: rgba(0,0,0,0.5);
    margin: 0;
  }
  .collection-card__count svg {
    opacity: 0.6;
  }

  /* Custom CTA */
  .collections-list__custom-cta {
    margin-top: 4rem;
  }
  .custom-cta-card {
    display: flex;
    align-items: center;
    gap: 2.5rem;
    padding: 3rem;
    background: linear-gradient(135deg, #1a1a1a 0%, #333 100%);
    border-radius: 16px;
    color: white;
  }
  @media (max-width: 989px) {
    .custom-cta-card {
      flex-direction: column;
      text-align: center;
    }
  }
  .custom-cta-card__icon {
    flex-shrink: 0;
    width: 80px;
    height: 80px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(255,255,255,0.1);
    border-radius: 50%;
  }
  .custom-cta-card__content {
    flex: 1;
  }
  .custom-cta-card__content h3 {
    font-size: 2.2rem;
    margin: 0 0 0.75rem;
  }
  .custom-cta-card__content p {
    font-size: 1.5rem;
    margin: 0;
    opacity: 0.85;
    line-height: 1.5;
  }
  .custom-cta-card__actions {
    display: flex;
    gap: 1rem;
    flex-shrink: 0;
  }
  @media (max-width: 749px) {
    .custom-cta-card__actions {
      flex-direction: column;
      width: 100%;
    }
    .custom-cta-card__actions .button {
      width: 100%;
      text-align: center;
    }
  }

  /* Buttons */
  .button--gold {
    display: inline-block;
    background: #c9a227;
    color: white;
    padding: 1rem 2rem;
    border-radius: 6px;
    font-size: 1.5rem;
    font-weight: 600;
    text-decoration: none;
    transition: background 0.2s;
  }
  .button--gold:hover {
    background: #b8922a;
    color: white;
  }

  @media (max-width: 749px) {
    .collections-list__title {
      font-size: 2.6rem;
    }
    .featured-category {
      padding: 2rem;
    }
    .featured-category__title {
      font-size: 2.2rem;
    }
    .collection-card__title {
      font-size: 1.8rem;
    }
  }
</style>

{% schema %}
{
  "name": "Collections List",
  "tag": "section",
  "class": "section-collections-list",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Shop by Category"
    },
    {
      "type": "textarea",
      "id": "subheading",
      "label": "Subheading",
      "default": "Explore our collections of custom laser-engraved products"
    },
    {
      "type": "checkbox",
      "id": "show_featured_banner",
      "label": "Show Featured Collection Banner",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "show_custom_cta",
      "label": "Show Custom Order CTA",
      "default": true
    }
  ]
}
{% endschema %}
