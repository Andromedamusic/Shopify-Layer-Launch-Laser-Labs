{%- comment -%}Contact Response Timeline - Shows what happens after form submission{%- endcomment -%}

<section class="response-timeline" style="background:{{ section.settings.background_color }};padding:{{ section.settings.padding_top }}px 0 {{ section.settings.padding_bottom }}px">
  <div class="response-timeline__inner page-width">
    {%- if section.settings.heading != blank -%}
    <div class="response-timeline__header">
      <h2 class="response-timeline__title h2">{{ section.settings.heading }}</h2>
      {%- if section.settings.subheading != blank -%}<p class="response-timeline__subtitle">{{ section.settings.subheading }}</p>{%- endif -%}
    </div>
    {%- endif -%}
    <div class="response-timeline__steps">
      {%- for i in (1..4) -%}
      {%- assign step_title = 'step_' | append: i | append: '_title' -%}
      {%- assign step_time = 'step_' | append: i | append: '_time' -%}
      {%- assign step_desc = 'step_' | append: i | append: '_description' -%}
      <div class="response-timeline__step">
        <div class="response-timeline__marker">
          <span class="response-timeline__num">{{ i }}</span>
          <div class="response-timeline__icon">
            {%- case i -%}
            {%- when 1 -%}<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg>
            {%- when 2 -%}<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><circle cx="12" cy="12" r="3"/></svg>
            {%- when 3 -%}<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/></svg>
            {%- when 4 -%}<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg>
            {%- endcase -%}
          </div>
        </div>
        {%- if i < 4 -%}<div class="response-timeline__connector"></div>{%- endif -%}
        <div class="response-timeline__content">
          <span class="response-timeline__time">{{ section.settings[step_time] }}</span>
          <h3 class="response-timeline__step-title">{{ section.settings[step_title] }}</h3>
          <p class="response-timeline__desc">{{ section.settings[step_desc] }}</p>
        </div>
      </div>
      {%- endfor -%}
    </div>
  </div>
</section>

<style>
.response-timeline__inner{max-width:1100px;margin:0 auto}
.response-timeline__header{text-align:center;margin-bottom:4rem}
.response-timeline__title{color:{{ section.settings.text_color }};margin-bottom:.75rem}
.response-timeline__subtitle{font-size:1.7rem;color:{{ section.settings.text_color }};opacity:.75;max-width:600px;margin:0 auto}
.response-timeline__steps{display:flex;justify-content:space-between;position:relative}
.response-timeline__step{flex:1;display:flex;flex-direction:column;align-items:center;text-align:center;position:relative;padding:0 1rem}
.response-timeline__marker{position:relative;z-index:2;margin-bottom:1.5rem}
.response-timeline__num{display:flex;align-items:center;justify-content:center;width:48px;height:48px;background:{{ section.settings.accent_color }};color:#fff;font-size:1.8rem;font-weight:700;border-radius:50%;margin:0 auto 1rem;box-shadow:0 4px 12px rgba(201,162,39,.3)}
.response-timeline__icon{width:32px;height:32px;margin:0 auto;color:{{ section.settings.accent_color }}}
.response-timeline__icon svg{width:100%;height:100%}
.response-timeline__connector{position:absolute;top:24px;left:calc(50% + 30px);width:calc(100% - 60px);height:3px;background:linear-gradient(90deg,{{ section.settings.accent_color }},{{ section.settings.accent_color }}66);z-index:1}
.response-timeline__step:last-child .response-timeline__connector{display:none}
.response-timeline__content{max-width:200px}
.response-timeline__time{display:inline-block;background:{{ section.settings.accent_color }}22;color:{{ section.settings.accent_color }};padding:.4rem 1rem;border-radius:20px;font-size:1.3rem;font-weight:600;margin-bottom:.75rem}
.response-timeline__step-title{font-size:1.6rem;font-weight:700;color:{{ section.settings.text_color }};margin:0 0 .5rem}
.response-timeline__desc{font-size:1.4rem;color:{{ section.settings.text_color }};opacity:.75;margin:0;line-height:1.5}
@media(max-width:849px){
.response-timeline__steps{flex-direction:column;align-items:flex-start;gap:0}
.response-timeline__step{flex-direction:row;text-align:left;align-items:flex-start;padding:0 0 2.5rem 0}
.response-timeline__step:last-child{padding-bottom:0}
.response-timeline__marker{margin-bottom:0;margin-right:1.5rem;flex-shrink:0}
.response-timeline__num{margin-bottom:.75rem}
.response-timeline__connector{position:absolute;top:48px;left:23px;width:3px;height:calc(100% - 24px);background:linear-gradient(180deg,{{ section.settings.accent_color }},{{ section.settings.accent_color }}66)}
.response-timeline__content{max-width:none;padding-top:.25rem}
}
</style>

{% schema %}
{
  "name": "Response Timeline",
  "tag": "section",
  "class": "section-response-timeline",
  "settings": [
    {"type": "header", "content": "Header"},
    {"type": "text", "id": "heading", "label": "Heading", "default": "What Happens Next?"},
    {"type": "textarea", "id": "subheading", "label": "Subheading", "default": "Here's our response timeline after you submit your message"},
    {"type": "header", "content": "Step 1"},
    {"type": "text", "id": "step_1_title", "label": "Title", "default": "Form Received"},
    {"type": "text", "id": "step_1_time", "label": "Timeframe", "default": "0-30 min"},
    {"type": "textarea", "id": "step_1_description", "label": "Description", "default": "Confirmation email sent to your inbox"},
    {"type": "header", "content": "Step 2"},
    {"type": "text", "id": "step_2_title", "label": "Title", "default": "Initial Review"},
    {"type": "text", "id": "step_2_time", "label": "Timeframe", "default": "1-4 hours"},
    {"type": "textarea", "id": "step_2_description", "label": "Description", "default": "Our team reviews your request carefully"},
    {"type": "header", "content": "Step 3"},
    {"type": "text", "id": "step_3_title", "label": "Title", "default": "We Contact You"},
    {"type": "text", "id": "step_3_time", "label": "Timeframe", "default": "4-24 hours"},
    {"type": "textarea", "id": "step_3_description", "label": "Description", "default": "Personal response with next steps"},
    {"type": "header", "content": "Step 4"},
    {"type": "text", "id": "step_4_title", "label": "Title", "default": "Let's Create"},
    {"type": "text", "id": "step_4_time", "label": "Timeframe", "default": "24-72 hours"},
    {"type": "textarea", "id": "step_4_description", "label": "Description", "default": "Design collaboration begins"},
    {"type": "header", "content": "Layout"},
    {"type": "range", "id": "padding_top", "label": "Padding top", "min": 0, "max": 100, "step": 5, "unit": "px", "default": 60},
    {"type": "range", "id": "padding_bottom", "label": "Padding bottom", "min": 0, "max": 100, "step": 5, "unit": "px", "default": 60},
    {"type": "header", "content": "Colors"},
    {"type": "color", "id": "background_color", "label": "Background", "default": "#f8f8f8"},
    {"type": "color", "id": "text_color", "label": "Text color", "default": "#1a1a1a"},
    {"type": "color", "id": "accent_color", "label": "Accent color", "default": "#c9a227"}
  ],
  "presets": [{"name": "Response Timeline"}],
  "templates": ["page", "index", "article"]
}
{% endschema %}
