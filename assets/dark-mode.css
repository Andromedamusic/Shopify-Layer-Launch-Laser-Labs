/* LayerLaunch Laser Labs - Dark Mode Styles */
/* Improved contrast for better readability */

/* Dark mode color scheme - WCAG AA compliant */
@media (prefers-color-scheme: dark) {
  :root {
    --color-background: #0d0d0d;
    --color-background-secondary: #1a1a1a;
    --color-background-tertiary: #262626;
    --color-text: #ffffff;
    --color-text-secondary: #e0e0e0;
    --color-text-muted: #a0a0a0;
    --color-border: #3a3a3a;
    --color-border-light: #2a2a2a;
    --color-accent: #d4b340;
    --color-accent-hover: #e5c654;
    --color-success: #5cb85c;
    --color-error: #ff6b6b;
    --color-overlay: rgba(0, 0, 0, 0.8);
  }
}

/* Manual dark mode toggle class */
.dark-mode {
  --color-background: #0d0d0d;
  --color-background-secondary: #1a1a1a;
  --color-background-tertiary: #262626;
  --color-text: #ffffff;
  --color-text-secondary: #e0e0e0;
  --color-text-muted: #a0a0a0;
  --color-border: #3a3a3a;
  --color-border-light: #2a2a2a;
  --color-accent: #d4b340;
  --color-accent-hover: #e5c654;
  --color-success: #5cb85c;
  --color-error: #ff6b6b;
  --color-overlay: rgba(0, 0, 0, 0.8);
}

/* Apply dark mode styles */
@media (prefers-color-scheme: dark) {
  body {
    background-color: var(--color-background);
    color: var(--color-text);
  }

  /* CRITICAL: High contrast text overrides */
  h1, h2, h3, h4, h5, h6,
  .h0, .h1, .h2, .h3, .h4, .h5, .h6 {
    color: #ffffff !important;
  }

  p, li, span, label, td, th {
    color: var(--color-text);
  }

  /* Transparent/gradient backgrounds for empty sections */
  .collection-header,
  .page-header,
  .section-empty {
    background: linear-gradient(180deg,
      rgba(26, 26, 26, 0.95) 0%,
      rgba(13, 13, 13, 0.8) 100%
    ) !important;
  }

  /* Collection page improvements */
  .collection-filters,
  .collection-sort {
    background: transparent !important;
    border-color: var(--color-border);
  }

  .collection-grid {
    background: transparent;
  }

  /* Hero/Banner sections with better gradients */
  .hero-banner,
  .hero-section {
    background: linear-gradient(180deg,
      rgba(13, 13, 13, 0.9) 0%,
      rgba(26, 26, 26, 0.95) 50%,
      rgba(13, 13, 13, 1) 100%
    );
  }

  /* Header */
  .header {
    background: rgba(13, 13, 13, 0.95);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    border-bottom: 1px solid rgba(255, 255, 255, 0.08);
  }

  .header__logo-text,
  .header__logo-tagline {
    color: #ffffff;
  }

  .header__logo-tagline {
    color: var(--color-accent);
  }

  .header__menu-link,
  .header__cart-link {
    color: #ffffff;
  }

  .header__menu-link:hover,
  .header__cart-link:hover {
    color: var(--color-accent);
  }

  .header__dropdown {
    background: var(--color-background-secondary);
    border-color: var(--color-border);
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
  }

  .header__dropdown-link {
    color: #ffffff;
  }

  .header__dropdown-link:hover {
    background: var(--color-background-tertiary);
    color: var(--color-accent);
  }

  /* Mobile Menu */
  .header__mobile-drawer {
    background: var(--color-background);
  }

  .header__mobile-title,
  .header__mobile-link {
    color: #ffffff;
  }

  .header__mobile-link:hover {
    background: var(--color-background-secondary);
  }

  .header__mobile-submenu {
    background: var(--color-background-secondary);
  }

  .header__mobile-sublink {
    color: var(--color-text-secondary);
  }

  .header__mobile-footer {
    border-top-color: var(--color-border);
  }

  /* Product Card Text Improvements */
  .product-card__title {
    color: #ffffff !important;
    font-weight: 600;
  }

  .product-card__price {
    color: var(--color-accent) !important;
    font-weight: 700;
  }

  .product-card__vendor {
    color: var(--color-text-secondary);
  }

  /* Collection Title and Description */
  .collection-header__title,
  .collection-title {
    color: #ffffff !important;
  }

  .collection-header__description,
  .collection-description {
    color: var(--color-text-secondary);
  }

  /* Buttons */
  .button--primary {
    background-color: var(--color-accent);
    color: #0d0d0d;
    font-weight: 700;
  }

  .button--primary:hover {
    background-color: var(--color-accent-hover);
  }

  .button--secondary {
    background-color: transparent;
    color: #ffffff;
    border-color: rgba(255, 255, 255, 0.3);
  }

  .button--secondary:hover {
    background-color: rgba(255, 255, 255, 0.1);
    border-color: var(--color-accent);
    color: var(--color-accent);
  }

  /* Announcement Bar */
  .announcement-bar {
    background: var(--color-accent);
    color: #0d0d0d;
  }

  .announcement-bar__text {
    color: #0d0d0d !important;
    font-weight: 600;
  }

  /* Forms */
  input[type="text"],
  input[type="email"],
  input[type="tel"],
  input[type="number"],
  input[type="password"],
  input[type="search"],
  input[type="date"],
  select,
  textarea {
    background-color: var(--color-background-secondary);
    border-color: var(--color-border);
    color: var(--color-text);
  }

  input:focus,
  select:focus,
  textarea:focus {
    border-color: var(--color-accent);
    box-shadow: 0 0 0 3px rgba(201, 162, 39, 0.2);
  }

  input::placeholder,
  textarea::placeholder {
    color: var(--color-text-muted);
  }

  /* Cards & Boxes */
  .product-card,
  .faq-contact,
  .faq-links,
  .cart-drawer__content,
  .quick-view-modal__content {
    background: var(--color-background-secondary);
  }

  .product-card__title,
  .product-card__price {
    color: var(--color-text);
  }

  /* Product Page */
  .product-gallery__main,
  .product-gallery__thumbnail {
    background: var(--color-background-secondary);
  }

  .product-gallery__thumbnail.active {
    border-color: var(--color-accent);
  }

  .product-main__title,
  .product-main__price-current {
    color: var(--color-text);
  }

  .product-main__price-compare {
    color: var(--color-text-muted);
  }

  /* Collection Page */
  .collection-header {
    background: var(--color-background-secondary);
  }

  .collection-filters {
    background: var(--color-background-secondary);
    border-color: var(--color-border);
  }

  /* FAQ Page */
  .faq-item {
    border-color: var(--color-border);
  }

  .faq-item__question {
    color: var(--color-text);
  }

  .faq-item__answer p {
    color: var(--color-text-secondary);
  }

  .faq-category {
    border-color: var(--color-text);
  }

  /* Footer */
  .footer {
    background: var(--color-background-secondary);
    border-top-color: var(--color-border);
  }

  .footer__title,
  .footer__link,
  .footer__social-link {
    color: var(--color-text);
  }

  .footer__link:hover,
  .footer__social-link:hover {
    color: var(--color-accent);
  }

  .footer__bottom {
    border-top-color: var(--color-border);
    color: var(--color-text-secondary);
  }

  /* Cart Drawer */
  .cart-drawer__content {
    background: var(--color-background);
  }

  .cart-drawer__header,
  .cart-drawer__footer {
    border-color: var(--color-border);
  }

  .cart-drawer__title,
  .cart-drawer__item-title,
  .cart-drawer__item-price,
  .cart-drawer__subtotal {
    color: var(--color-text);
  }

  .cart-drawer__item-variant,
  .cart-drawer__shipping-note {
    color: var(--color-text-secondary);
  }

  .cart-drawer__item {
    border-color: var(--color-border);
  }

  .cart-drawer__qty-btn {
    background: var(--color-background-tertiary);
    color: var(--color-text);
  }

  .cart-drawer__qty-input {
    background: var(--color-background-secondary);
    color: var(--color-text);
  }

  /* Quick View Modal */
  .quick-view-product__gallery {
    background: var(--color-background-tertiary);
  }

  .quick-view-product__title,
  .quick-view-product__price {
    color: var(--color-text);
  }

  .quick-view-product__description,
  .quick-view-product__vendor {
    color: var(--color-text-secondary);
  }

  /* Recently Viewed */
  .recently-viewed {
    background: var(--color-background-secondary);
  }

  .recently-viewed__item {
    background: var(--color-background);
  }

  .recently-viewed__item-title {
    color: var(--color-text);
  }

  /* Hero Banner */
  .hero-banner__title,
  .hero-banner__subtitle {
    color: var(--color-text);
  }

  /* Tables */
  table,
  th,
  td {
    border-color: var(--color-border);
  }

  th {
    background: var(--color-background-secondary);
  }

  /* Scrollbar */
  ::-webkit-scrollbar {
    width: 10px;
    height: 10px;
  }

  ::-webkit-scrollbar-track {
    background: var(--color-background-secondary);
  }

  ::-webkit-scrollbar-thumb {
    background: var(--color-background-tertiary);
    border-radius: 5px;
  }

  ::-webkit-scrollbar-thumb:hover {
    background: var(--color-border);
  }

  /* Selection */
  ::selection {
    background: rgba(201, 162, 39, 0.3);
    color: var(--color-text);
  }

  /* Borders that were #eee */
  .product-reviews,
  .product-details-tabs,
  .testimonials-slider__item {
    border-color: var(--color-border);
  }

  /* ============================================
     Homepage Section Dark Mode Overrides
     ============================================ */

  /* Why Different / Features Section */
  .why-different,
  .features-section,
  .why-choose-us {
    background: var(--color-background-secondary);
  }

  .why-different__title,
  .features-section__title,
  .why-choose-us__title {
    color: #ffffff !important;
  }

  .why-different__description,
  .features-section__description,
  .why-choose-us__description {
    color: #c0c0c0;
  }

  .feature-card,
  .why-different__card {
    background: var(--color-background-tertiary);
    border-color: var(--color-border);
  }

  .feature-card__title,
  .why-different__card-title {
    color: #ffffff;
  }

  .feature-card__description,
  .why-different__card-description {
    color: #b0b0b0;
  }

  .feature-card__icon,
  .why-different__icon {
    color: var(--color-accent);
  }

  /* Newsletter Section */
  .newsletter,
  .newsletter-section {
    background: linear-gradient(135deg,
      var(--color-background-secondary) 0%,
      var(--color-background-tertiary) 100%
    );
  }

  .newsletter__title,
  .newsletter-section__title {
    color: #ffffff !important;
  }

  .newsletter__description,
  .newsletter-section__description {
    color: #c0c0c0;
  }

  .newsletter__input,
  .newsletter-section input[type="email"] {
    background: var(--color-background);
    border-color: var(--color-border);
    color: #ffffff;
  }

  .newsletter__input::placeholder {
    color: var(--color-text-muted);
  }

  /* Featured Collections Section */
  .featured-collections,
  .collection-list {
    background: transparent;
  }

  .featured-collections__title,
  .collection-list__title {
    color: #ffffff !important;
  }

  .featured-collections__description,
  .collection-list__description {
    color: #c0c0c0;
  }

  .collection-card,
  .featured-collection-card {
    background: var(--color-background-secondary);
    border-color: var(--color-border);
  }

  .collection-card__title,
  .featured-collection-card__title {
    color: #ffffff !important;
  }

  .collection-card__description,
  .featured-collection-card__description {
    color: #b0b0b0;
  }

  .collection-card__count,
  .featured-collection-card__count {
    color: #a0a0a0;
  }

  /* Trust Bar / Trust Badges */
  .trust-bar,
  .trust-badges {
    background: rgba(255, 255, 255, 0.03);
    border-color: var(--color-border);
  }

  .trust-bar__item,
  .trust-badge {
    color: #ffffff;
  }

  .trust-bar__icon,
  .trust-badge__icon {
    color: var(--color-accent);
  }

  .trust-bar__text,
  .trust-badge__text {
    color: #c0c0c0;
  }

  /* Testimonials Section */
  .testimonials,
  .testimonials-section {
    background: var(--color-background-secondary);
  }

  .testimonials__title,
  .testimonials-section__title {
    color: #ffffff !important;
  }

  .testimonial-card {
    background: var(--color-background);
    border-color: var(--color-border);
  }

  .testimonial-card__text,
  .testimonial-card__quote {
    color: #e0e0e0;
  }

  .testimonial-card__author {
    color: #ffffff;
  }

  .testimonial-card__role {
    color: #a0a0a0;
  }

  /* CTA Sections */
  .cta-section,
  .promo-banner {
    background: linear-gradient(135deg,
      var(--color-background-tertiary) 0%,
      var(--color-background-secondary) 100%
    );
    border-color: var(--color-border);
  }

  .cta-section__title,
  .promo-banner__title {
    color: #ffffff !important;
  }

  .cta-section__description,
  .promo-banner__description {
    color: #c0c0c0;
  }

  /* Text with rgba(0,0,0,x) that becomes invisible */
  [style*="color: rgba(0, 0, 0"],
  [style*="color: rgba(0,0,0"] {
    color: #ffffff !important;
  }

  /* Common text elements with black text */
  .section-header__title,
  .section-title {
    color: #ffffff !important;
  }

  .section-header__description,
  .section-description {
    color: #c0c0c0;
  }

  /* Process/How It Works Section */
  .process-section,
  .how-it-works {
    background: var(--color-background-secondary);
  }

  .process-step,
  .how-it-works__step {
    background: var(--color-background);
    border-color: var(--color-border);
  }

  .process-step__number,
  .how-it-works__number {
    background: var(--color-accent);
    color: var(--color-background);
  }

  .process-step__title,
  .how-it-works__title {
    color: #ffffff;
  }

  .process-step__description,
  .how-it-works__description {
    color: #b0b0b0;
  }

  /* FAQ Section */
  .faq-section {
    background: var(--color-background);
  }

  .faq-section__title {
    color: #ffffff !important;
  }

  .faq-item {
    background: var(--color-background-secondary);
    border-color: var(--color-border);
  }

  .faq-item__question {
    color: #ffffff;
  }

  .faq-item__answer {
    color: #c0c0c0;
  }

  /* Logo/Brand Text */
  .brand-name,
  .site-title {
    color: #ffffff !important;
  }

  /* Generic dark mode text fixes */
  .text-dark,
  .text-black {
    color: #ffffff !important;
  }

  .bg-light,
  .bg-white {
    background: var(--color-background-secondary) !important;
  }
}

/* Dark mode toggle button styles */
.dark-mode-toggle {
  background: none;
  border: none;
  padding: 8px;
  cursor: pointer;
  color: inherit;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 50%;
  transition: background 0.2s;
}

.dark-mode-toggle:hover {
  background: rgba(255, 255, 255, 0.1);
}

.dark-mode-toggle svg {
  width: 20px;
  height: 20px;
}

.dark-mode-toggle .icon-sun {
  display: none;
}

.dark-mode .dark-mode-toggle .icon-moon {
  display: none;
}

.dark-mode .dark-mode-toggle .icon-sun {
  display: block;
}
